(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-preferentialActivities"],{"14de":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(i("a34a")),a=i("67e9"),r=o(i("0968"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,a,r,o){try{var c=t[r](o),s=c.value}catch(l){return void i(l)}c.done?e(s):Promise.resolve(s).then(n,a)}function l(t){return function(){var e=this,i=arguments;return new Promise(function(n,a){var r=t.apply(e,i);function o(t){s(r,n,a,o,c,"next",t)}function c(t){s(r,n,a,o,c,"throw",t)}o(void 0)})}}var d={data:function(){return{headerTab:[{title:"有所优惠"},{title:"正在进行"},{title:"即将开启"},{title:"长期活动"}],headerCurrIndex:0,winHeight:0,filterKey:"all",loadingTips:"正在加载中···",pageScrollTop:0,scrollTop:0,filter:{all:{finished:!1,init:!1,arr:[],param:{page:1}}}}},onShow:function(){var t=this;this.scrollTop=0,this.$nextTick(function(e){t.scrollTop=t.pageScrollTop})},methods:{scollCallback:function(t){this.pageScrollTop=t.detail.scrollTop},setHeaderCurrIndex:function(t){this.headerCurrIndex=t},getList:function(){var t=l(n.default.mark(function t(e){var i;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.finished){t.next=2;break}return t.abrupt("return");case 2:return this.loadingTips="正在加载中···",t.next=5,(0,a.ApigetActivityList)(e.param);case 5:i=t.sent,console.log(i),"ERROR"!==i.code?(i.data.list.map(function(t){return t.startTimeplus=t.startTime?r.Format(new Date(t.startTime.replace(/-/g,"/")),"yyyy-MM-dd"):"",t.endTimeplus=t.endTime?r.Format(new Date(t.endTime.replace(/-/g,"/")),"yyyy-MM-dd"):void 0,t}),e.arr=e.arr.concat(i.data.list),i.data.totalPage-e.param.page<=0&&(e.finished=!0),e.param.page+=1):this.loadingTips=i.msg;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reachBottom:function(){this.getList(this.filter[this.filterKey])}},onLoad:function(){var t=uni.getSystemInfoSync();this.winHeight=t.windowHeight+"px",this.getList(this.filter.all)}};e.default=d},"2a05":function(t,e,i){"use strict";i.r(e);var n=i("14de"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=a.a},"30fd":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cm-wrap"},[i("cm-header",{attrs:{tit:"优惠活动"}}),i("v-uni-scroll-view",{staticClass:"main-list-scroll",style:{height:t.winHeight},attrs:{"scroll-top":t.scrollTop,"lower-threshold":"80","scroll-y":"true"},on:{scroll:function(e){e=t.$handleEvent(e),t.scollCallback(e)},scrolltolower:function(e){e=t.$handleEvent(e),t.reachBottom(e)}}},[t._l(t.filter.all.arr,function(e){return i("v-uni-navigator",{key:e.activityId,staticClass:"activity-item cm-mg",attrs:{url:"/pages/user/preferentialActivitiesDetail?activityId="+e.activityId,"hover-class":"none"}},[i("v-uni-view",{staticClass:"activity-img cm-img-placehold"},[i("v-uni-image",{attrs:{src:e.titleImg,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.title))]),e.endTimeplus?i("v-uni-view",{staticClass:"date"},[t._v("活动时间："+t._s(e.startTimeplus)+" 至"+t._s(e.endTimeplus))]):i("v-uni-view",{staticClass:"date"},[t._v("活动时间：长期有效")])],1)],1)}),t.filter[t.filterKey].finished?i("v-uni-view",{staticClass:"cm-scroll-bottom-notice"},[t._v("暂无更多内容")]):i("v-uni-view",{staticClass:"cm-scroll-bottom-notice"},[t._v(t._s(t.loadingTips))])],2)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"45ed":function(t,e,i){"use strict";var n=i("d344"),a=i.n(n);a.a},"67e9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApigetById=e.ApigetActivityList=e.ApigetNoticePopup=e.ApigetNoticeList=e.ApigetLoopimgList=e.ApigetAdminlooprewardList=e.ApigetByscroll=void 0;var n=a(i("7578"));function a(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"notice/getByScroll")};e.ApigetByscroll=r;var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"adminloopreward/getByPage")};e.ApigetAdminlooprewardList=o;var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"loopimg/list")};e.ApigetLoopimgList=c;var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"notice/getByPage")};e.ApigetNoticeList=s;var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"notice/getByPop")};e.ApigetNoticePopup=l;var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"adminactivity/getByPage")};e.ApigetActivityList=d;var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];return n.default.POST(t,"adminactivity/getById?activityId="+t.activityId)};e.ApigetById=u},c104:function(t,e,i){"use strict";i.r(e);var n=i("30fd"),a=i("2a05");for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i("45ed");var o=i("2877"),c=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"9c1e9cc4",null);e["default"]=c.exports},d344:function(t,e,i){var n=i("e339");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("efb72e88",n,!0,{sourceMap:!1,shadowMode:!1})},e339:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*底部tabbar高度*/\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/*换行*/\n/*\n\t主轴方向：从左到右(默认)\n*/\n/*\n\t主轴方向：从右到左\n*/\n/*\n\t主轴方向：从上到下\n*/\n/*\n\t主轴方向：从下到上\n*/\n/*\n\t主轴对齐方式：从左到右(默认)\n*/\n/*\n\t主轴对齐方式：从右到左\n*/\n/*\n\t主轴对齐方式：两端对齐\n*/\n/*\n\t主轴对齐方式：居中对齐\n*/\n/*\n\t交叉轴齐方式：从上到下(默认)\n*/\n/*\n\t交叉轴齐方式：从下到上\n*/\n/*\n\t交叉轴齐方式：居中对齐\n*/\n/*\n\t交叉轴齐方式：跟随内容高度对齐\n*/\n/*\n\t交叉轴齐方式：高度并排铺满\n*/\n/*\n\t子元素平分宽度\n*/.header-tab-container[data-v-9c1e9cc4]{height:%?88?%}.header-tab-container .fixed-box[data-v-9c1e9cc4]{position:fixed;top:%?82?%;height:%?88?%;width:100%;background-color:#fff}.header-tab-container .fixed-box .tab-item[data-v-9c1e9cc4]{font-size:%?28?%;color:#333}.header-tab-container .fixed-box .tab-item.active[data-v-9c1e9cc4]{color:#16afe9}.main-list-scroll[data-v-9c1e9cc4]{position:fixed;top:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding-top:%?82?%}.activity-item[data-v-9c1e9cc4]{margin-top:%?24?%;margin-bottom:%?24?%;background-color:#fff;border-radius:%?12?%}.activity-item .activity-img[data-v-9c1e9cc4],.activity-item uni-image[data-v-9c1e9cc4]{height:%?210?%;width:%?702?%}.activity-item .content[data-v-9c1e9cc4]{padding:%?20?% %?24?%;position:relative}.activity-item .content .title[data-v-9c1e9cc4]{font-size:%?32?%;color:#333}.activity-item .content .text[data-v-9c1e9cc4]{padding:%?10?% 0;font-size:%?24?%;line-height:%?28?%;color:#666}.activity-item .content .date[data-v-9c1e9cc4]{font-size:%?26?%;color:#b3b3b3}.activity-item .content .btn[data-v-9c1e9cc4]{position:absolute;right:%?24?%;top:50%;margin-top:%?-30?%;width:%?175?%;line-height:%?40?%;background:#ffa800;border-radius:%?30?%;font-size:%?24?%;color:#fff;padding:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box}.activity-item .content .btn uni-text[data-v-9c1e9cc4]{display:block;width:%?36?%;height:%?36?%;background:#fff;border-radius:100%;position:relative;margin-left:%?10?%}.activity-item .content .btn uni-text[data-v-9c1e9cc4]:after{content:"";display:block;position:absolute;top:%?12?%;left:%?12?%;width:%?12?%;height:%?12?%;border-top:%?1?% solid #ffa800;border-right:%?1?% solid #ffa800;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}',""])}}]);