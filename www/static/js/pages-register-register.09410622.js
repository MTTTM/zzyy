(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"2e74":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedBarAnimation=void 0;var n=function(e){e.FixedBarAnimation_winHeight=uni.getSystemInfoSync().windowHeight,uni.onWindowResize(function(t){t.size.windowHeight<e.FixedBarAnimation_winHeight?e.FixedBarAnimation_ShowBtmBar=!1:e.FixedBarAnimation_ShowBtmBar=!0})};t.FixedBarAnimation=n},3735:function(e,t,r){"use strict";r.r(t);var n=r("944a"),i=r("48c7");for(var a in i)"default"!==a&&function(e){r.d(t,e,function(){return i[e]})}(a);r("8dbf");var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"43261ff3",null);t["default"]=s.exports},"48c7":function(e,t,r){"use strict";r.r(t);var n=r("6158"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,function(){return n[e]})}(a);t["default"]=i.a},6158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r("a34a")),i=r("9d81"),a=r("fb30"),o=r("7226"),s=r("e7c9"),c=r("2e74"),u=g(r("e482")),l=r("e525");function g(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){d(a,n,i,o,s,"next",e)}function s(e){d(a,n,i,o,s,"throw",e)}o(void 0)})}}var v={mixins:[u.default],data:function(){var e=this,t=function(t,r,n){""!==r&&r!==e.formData.password?n("两次输入密码不一致"):n()},r=function(e,t,r){""!==t&&t.length<5?r("请输入有效验证码"):r()};return{FixedBarAnimation_winHeight:0,FixedBarAnimation_ShowBtmBar:!0,loading:!1,regAccountString:a.regAccountString+"用户名",regAccountPwdString:a.regAccountPwdString+"密码",formData:{memberAccount:void 0,password:void 0,rePassword:void 0,verifyCode:void 0,promoteCode:void 0,uuid:(0,l.UUID)()},checkboxs:"1",rules:{memberAccount:[{required:!0,message:"请输入用户名",trigger:"blur",sort:1},{validator:(0,o.ValidAccount)("用户名"),trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur",sort:2},{validator:(0,o.ValidAccountPwd)("密码"),trigger:"blur"}],rePassword:[{required:!0,message:"请再次输入登录密码",trigger:"blur",sort:2},{validator:t,sort:3,trigger:"blur"}],verifyCode:[{required:!0,message:"请输入验证码",trigger:"blur",sort:4},{validator:r,trigger:"blur"}]},version:""}},computed:{noLeft:function(){var e=getCurrentPages(),t=e[e.length-2];return!t}},onReady:function(){this.FixedBarAnimation_winHeight=uni.getSystemInfoSync().windowHeight},onLoad:function(){(0,c.FixedBarAnimation)(this)},onShow:function(){this.refeshVerifyCode()},methods:{refeshVerifyCode:function(){this.formData.uuid=(0,l.UUID)(),this.version="/melody/api/v1/memberuser/captcha.jpg?uuid=".concat(this.formData.uuid)},toProvision:function(){(0,s.backOrNavToPage)("pages/register/provision")},hideKeyboard:function(){uni.hideKeyboard()},toLogin:function(){(0,s.backOrNavToPage)("pages/login/login")},checkboxChange:function(e){var t=e.detail.value[0];this.checkboxs=t},validForm:function(){var e=this;return new Promise(function(t,r){e.$refs.ruleForm.validate(function(e,r){console.log("valid,result",e,r),t({valid:e,result:r})})})},login:function(){var e=f(n.default.mark(function e(){var t,r,a,o,s=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validForm();case 2:return e.sent,e.next=5,this.validForm();case 5:if(t=e.sent,r=t.valid,a=t.result,console.log("valid=",r,a),r){e.next=15;break}return o=a.error[0].message?a.error[0].message:"存在不符合条件的",uni.showToast({title:o,duration:2e3,icon:"none"}),e.abrupt("return");case 15:if("1"==this.checkboxs){e.next=18;break}return uni.showToast({title:"请阅读并同意服务条款",duration:2e3,icon:"none"}),e.abrupt("return",!1);case 18:this.loading=!0,(0,i.ApiRegister)(this.formData).then(function(){var e=f(n.default.mark(function e(t){var r;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("ERROR"==t.code){e.next=8;break}return uni.showToast({title:t.msg,duration:2e3}),e.next=4,s.$store.dispatch("user/getUserInfo");case 4:r=e.sent,"ERROR"!=r.code&&uni.reLaunch({url:"/pages/index/index"}),e.next=10;break;case 8:s.refeshVerifyCode(),uni.showToast({title:t.msg,duration:2e3,icon:"none"});case 10:s.loading=!1;case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 20:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}};t.default=v},"6f3e":function(e,t,r){var n=r("b041");t=e.exports=r("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/*底部tabbar高度*/\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page-login[data-v-43261ff3]{background:#fff}.page-login .form[data-v-43261ff3]{position:relative;z-index:10}.page-login .form .logo[data-v-43261ff3]{display:block;width:%?362?%;height:%?164?%;margin:0 auto;padding:%?60?% 0 %?40?%;-webkit-box-sizing:content-box;box-sizing:content-box}.page-login .form .form-item[data-v-43261ff3]{position:relative;line-height:%?99?%;height:%?99?%}.page-login .form .form-item[data-v-43261ff3]:after{position:absolute;bottom:0;right:0;left:0;height:%?2?%;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#e6e6e6}.page-login .form .form-item .bage[data-v-43261ff3]{width:%?80?%}.page-login .form .form-item .bage .icon[data-v-43261ff3]{margin:0 auto}.page-login .form .form-item .xinput[data-v-43261ff3],.page-login .form .form-item uni-input[data-v-43261ff3]{font-size:%?30?%;width:%?590?%}.page-login .form .form-item .validCodeInput uni-input[data-v-43261ff3]{width:100%;padding-right:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.page-login .form .form-item img[data-v-43261ff3]{width:%?147?%;height:%?56?%;background:#d3d2d2;border:none;outline:none;font-size:12px;line-height:%?56?%}.page-login .form .form-item .inviteCode[data-v-43261ff3]{width:%?38?%;height:%?38?%;background:url('+n(r("f489"))+") no-repeat 50%;background-size:contain}.page-login .form .form-tip[data-v-43261ff3]{padding:%?24?% 0}.page-login .form .form-tip .label-txt[data-v-43261ff3]{line-height:1.6;color:#16afe9}.page-login .form .form-tip .forget[data-v-43261ff3]{width:%?200?%;text-align:right;line-height:1.2;font-size:%?26?%;color:#b3b3b3}.page-login .form uni-checkbox[data-v-43261ff3]{-webkit-transform:scale(.8);-ms-transform:scale(.8);transform:scale(.8)}.page-login .aboutMore[data-v-43261ff3]{position:absolute;z-index:30;left:0;bottom:0;width:100%;line-height:%?114?%;text-align:center;font-size:%?30?%;color:#666;background:#eee}.page-login .aboutMore .jumpLink[data-v-43261ff3]{display:inline-block;color:#16afe9}.toProvision[data-v-43261ff3]{color:#16afe9}",""])},7226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidWX=t.ValidPhone=t.ValidQQ=t.ValidEmail=t.ValidAccount=t.ValidAccountPwd=t.ValidID=t.ValidLoginAccouont=void 0;var n=i(r("fb30"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var a=function(e,t,r){""===t||n.regNickName.test(t)?r():r(new Error(n.regNickNameString))};t.ValidLoginAccouont=a;var o=function(e,t,r){""===t||n.regId.test(t)?r():r(new Error("请输入正确的身份证"))};t.ValidID=o;var s=function(e){return function(t,r,i){""===r||n.regAccountPwd.test(r)?i():i(new Error(n.regAccountPwdString+e))}};t.ValidAccountPwd=s;var c=function(e){return function(t,r,i){""===r||n.regAccount.test(r)?i():i(new Error(n.regAccountString+e))}};t.ValidAccount=c;var u=function(e,t,r){""===t||n.regEmail.test(t)?r():r(new Error("请输入有效邮箱"))};t.ValidEmail=u;var l=function(e,t,r){""===t||/^\d{4,10}$/.test(t)?r():r(new Error("请输入有效QQ号"))};t.ValidQQ=l;var g=function(e,t,r){""===t||n.regPhone.test(t)?r():r(new Error("请输入有效手机号"))};t.ValidPhone=g;var d=function(e,t,r){""===t||n.regWxNumber.test(t)?r():r(new Error(n.regWxString))};t.ValidWX=d},"8dbf":function(e,t,r){"use strict";var n=r("ab67"),i=r.n(n);i.a},"944a":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"page-login cm-wrap",style:{height:e.FixedBarAnimation_winHeight+"px"}},[r("cm-header",{attrs:{tit:"注册",type:"black",noLeft:e.noLeft}}),r("v-uni-view",{staticClass:"form cm-mg"},[r("v-uni-image",{staticClass:"logo",attrs:{src:"../../static/compoments/icons/login/logo@2x.png"}}),r("x-form",{ref:"ruleForm",attrs:{model:e.formData,rules:e.rules,toast:!0}},[r("v-uni-view",{staticClass:"form-item flex cross-center"},[r("v-uni-view",{staticClass:"bage"},[r("v-uni-view",{staticClass:"icon icon-input-person"})],1),r("x-input",{staticClass:"flex-box-1",attrs:{xstyle:{fontSize:"30upx"},placeholder:"用户名(6-16位字母数字下划线组成)","placeholder-style":"#b3b3b3",prop:"memberAccount"},model:{value:e.formData.memberAccount,callback:function(t){e.$set(e.formData,"memberAccount","string"===typeof t?t.trim():t)},expression:"formData.memberAccount"}})],1),r("v-uni-view",{staticClass:"form-item flex cross-center"},[r("v-uni-view",{staticClass:"bage"},[r("v-uni-view",{staticClass:"icon icon-input-lock"})],1),r("x-input",{staticClass:"flex-box-1",attrs:{xstyle:{fontSize:"30upx"},placeholder:"密码(6-16位数字和字母组合)",type:"password","placeholder-style":"#b3b3b3",prop:"password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password","string"===typeof t?t.trim():t)},expression:"formData.password"}})],1),r("v-uni-view",{staticClass:"form-item flex cross-center"},[r("v-uni-view",{staticClass:"bage"},[r("v-uni-view",{staticClass:"icon icon-input-lock"})],1),r("x-input",{staticClass:"flex-box-1",attrs:{xstyle:{fontSize:"30upx"},placeholder:"请再次确认登录密码",type:"password","placeholder-style":"#b3b3b3",prop:"rePassword"},model:{value:e.formData.rePassword,callback:function(t){e.$set(e.formData,"rePassword","string"===typeof t?t.trim():t)},expression:"formData.rePassword"}})],1),r("v-uni-view",{staticClass:"form-item flex cross-center"},[r("v-uni-view",{staticClass:"bage"},[r("v-uni-view",{staticClass:"icon icon-input-shield"})],1),r("v-uni-view",{staticClass:"validCodeInput flex-box-1"},[r("x-input",{attrs:{xstyle:{fontSize:"30upx"},placeholder:"请输入验证码","placeholder-style":"#b3b3b3",prop:"verityCode"},model:{value:e.formData.verifyCode,callback:function(t){e.$set(e.formData,"verifyCode","string"===typeof t?t.trim():t)},expression:"formData.verifyCode"}})],1),r("img",{attrs:{src:e.version,alt:"点击刷新"},on:{click:function(t){t=e.$handleEvent(t),e.refeshVerifyCode(t)}}})],1),r("v-uni-view",{staticClass:"form-item flex cross-center"},[r("v-uni-view",{staticClass:"bage"},[r("v-uni-view",{staticClass:"icon inviteCode"})],1),r("x-input",{staticClass:"flex-box-1",attrs:{xstyle:{fontSize:"30upx"},placeholder:"邀请码(选填)","placeholder-style":"#b3b3b3"},model:{value:e.formData.promoteCode,callback:function(t){e.$set(e.formData,"promoteCode","string"===typeof t?t.trim():t)},expression:"formData.promoteCode"}})],1),r("v-uni-view",{staticClass:"form-tip flex cross-center main-justify"},[r("v-uni-checkbox-group",{staticClass:"flex cross-center",on:{change:function(t){t=e.$handleEvent(t),e.checkboxChange(t)}}},[r("v-uni-checkbox",{attrs:{value:"1",checked:1==e.checkboxs,color:"#16afe9"}}),e._v("我已阅读并同意"),r("v-uni-text",{staticClass:"label-txt"},[r("v-uni-text",{staticClass:"toProvision",on:{click:function(t){t=e.$handleEvent(t),e.toProvision(t)}}},[e._v("《盈彩娱乐服务条款》")])],1)],1)],1)],1),r("v-uni-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){t=e.$handleEvent(t),e.login(t)}}},[e._v("注册")])],1),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.FixedBarAnimation_ShowBtmBar,expression:"FixedBarAnimation_ShowBtmBar"}],staticClass:"aboutMore"},[e._v("已有账户？"),r("v-uni-view",{staticClass:"jumpLink",on:{click:function(t){t=e.$handleEvent(t),e.toLogin(t)}}},[e._v("登录")])],1)],1)},i=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i})},ab67:function(e,t,r){var n=r("6f3e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=r("4f06").default;i("565670e0",n,!0,{sourceMap:!1,shadowMode:!1})},e525:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=void 0;var n=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var n=e.join("");return n};t.UUID=n},e7c9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backOrNavToPage=void 0;var n=function(e){var t=getCurrentPages(),r=t[t.length-2],n=t[t.length-3];r&&r.route==e?uni.navigateBack({delta:1}):n&&n.route==e?uni.navigateBack({delta:2}):(console.error("跳转的"),uni.navigateTo({url:"/"+e}))};t.backOrNavToPage=n},f489:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAACqklEQVRYhe2YO2gUURSGv113tdkIsUqwFtRKDYoPRBsfnQorAVERKwkqPtBC00YxxgRBEStBNEZBRdfOVwrxGVIogo9OSaPiKxh8ohz4R4e5k8nOZnbWYn8Ylr1z7jnfzsz959zNlEolQjQTuAM0uqcS1QdgIfAsmDQ7SpVZKUChGnOc0QgwT71ApkpHr1MtBljNVAeLqzpYXIWBTQXanNHqaSUwKZg9CLYUGAAWpQi2AbgLTAsDM1/ZA1wHmoC3zvTq6ZtMdlCQf8EmAxeBTmACcADYnSLYDuAcUABO6ygY2C1gDfARWAXsB34506unz8A6YDPwRVet38BaVDIn6lrpK/BbtVtyPoiC3l/zdb/TUh44Cmz31/OvyjY9iBbQkyJYj2pa7S1hYCeAJcBrX8sT5nNJyctttV4Bi4GTYWCmB3rmbup7USs0kyBQRjmL+n5DNR/5g8KuiHnYCuCg7KMLuAA0JADVoFxdPmsy538XDAwDQ3axTzbySb/uoVruSjVDOYqyptVR1jQamKcrwFzgCTBdt7rViRpbrYKyHI+BecDVqFnlPNwvZSFnZSl9Wkl5J9JVXrF9mnsGWKCckSp31Y0A64FtwA+9RmyBNDuR/9SsGIv9DmyVq484kSGKawfHZClDWt6D+gzKf25Ic447URGqxKfuqRu4rU7E3rW7fJayU2NNipkN3HeyjKFKDfQNsBw4rGV/BDivo1tj1q0sq7SFyjkj5esnsFdX4xSwVjOtW9gEXB5H7nGBeboEPNWKy8kaXjhRNQAzPZffJab69i2u6mBxZWDDmjPlP+DxGIaz2uDi39PVUBtVeiDr6+871Xun8U9iUI2qfUjj3QZmf8J2ABO1W3mvbVSah9W02sZgLNe8h79dHWV/uW1JwrKaVts23O0AfwCJcplsk46w2QAAAABJRU5ErkJggg=="},fb30:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regMoneyString=t.regMoney=t.regWxString=t.regWxNumber=t.regPhone=t.regNickNameString=t.regNickName=t.regAccountString=t.regAccount=t.regAccountPwdString=t.regAccountPwd=t.regId=t.regEmail=t.regRegisterPwdW=t.regRegisterPwdRepeat=t.regRegisterNickName=t.regRegisterUserName=t.regChineseLimit=t.regBankNumber=t.regBankUserName=t.regBankBranch=t.specialString=t.regTradePasswordString=t.regTradePassword=t.withdrawPwd=void 0;var n=new RegExp(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/);t.withdrawPwd=n;var i=new RegExp(/^[0-9]{6}$/);t.regTradePassword=i;var a="请输入6位纯数字的";t.regTradePasswordString=a;var o=new RegExp(/[\<\>\~\!\@\#\$\%\^\&\*\-\+\=\|\\\'\?\,\/\[\]\{}\(\)\"]{1,}/);t.specialString=o;var s=new RegExp(/^(.){1,20}$/);t.regBankBranch=s;var c=new RegExp(/^[\u4e00-\u9fa5]+[·|.|。]?[\u4e00-\u9fa5]+$/);t.regBankUserName=c;var u=new RegExp(/^\d{16,19}$/);t.regBankNumber=u;var l=new RegExp(/^[\u4E00-\u9FA5]{1,}$/);t.regChineseLimit=l;var g=new RegExp(/^.*(?=.{6,16})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/);t.regRegisterUserName=g;var d=new RegExp(/^.{2,16}$/);t.regRegisterNickName=d;var f=new RegExp(/(\w)*(\w)\2{2}(\w)*/g);t.regRegisterPwdRepeat=f;var v=new RegExp(/^([a-zA-Z0-9_\\u4e00-\\u9fa5]{6,16})$/);t.regRegisterPwdW=v;var m=new RegExp(/^\w{1,}@\w{1,}\.\w{1,}$/);t.regEmail=m;var p=new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/);t.regId=p;var w=new RegExp(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/);t.regAccountPwd=w;var h="请输入6-16位，数字和字母组合的";t.regAccountPwdString=h;var b=new RegExp(/^[A-Za-z0-9_@.]{6,16}$/);t.regAccount=b;var x="请输入6-16位任意字母数字下划线的";t.regAccountString=x;var A=new RegExp(/^(.{1,16})$/);t.regNickName=A;var k="长度为1-16位";t.regNickNameString=k;var y=new RegExp(/^\d{11}$/);t.regPhone=y;var C=new RegExp(/^([-_a-zA-Z0-9]{1,19})+$/);t.regWxNumber=C;var P="请输入长度为1~19的微信号";t.regWxString=P;var B=new RegExp(/^[1-9]\d+\.?\d{0,2}$/);t.regMoney=B;var R="请输入有效金额";t.regMoneyString=R}}]);